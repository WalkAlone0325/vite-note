# Vi

> vi（`visual interface` 的简称）是 Linux 常用的编辑器

## vi 的工作模式

> vi 编辑器有3种工作模式，命令模式、输入模式和 ex 转义模式（也称 末行模式）

### 命令模式

> 执行命令 vi，即可进入 vi 编辑器的命令模式

1. `a(append)`：附加命令
2. `i(inset)`：插入命令
3. `x`：删除字符命令
4. `o`：打开命令
5. `s`：替换命令
6. `c`：修改命令
7. `r`：取代命令

### 输入模式

> 由输入模式回到命令模式的方法是按下 “ESC” 键

### ex 转义模式

退出 vi 

1. `:wq`：将编辑缓冲区的内容写到指定文件中，以退出编辑器
2. `:ZZ`：仅当对所编辑的内容做过修改时，才写入指定文件中
3. `:x`：功能与 `:ZZ` 相同
4. `:q!`：强制退出

# 文本输入

## 插入命令

1. `i`： 输入的内容都插在光标位置之前
2. `I`： 光标会移动到其所在行的行首

## 附加命令

1. `a`： 输入的字符插在光标之后
2. `A`： 光标所在行的行尾添加文本

## 打开命令

1. `o`： 光标所在行的下面新增一行，随后输入的文本会插入到新增的行上
2. `O`： 光标所在行的上面新增一行，随后输入的文本会插入到新增的行上

# 常用ex命令

## e 命令

## w 命令

> 可将编辑缓存区中的全部或部分内容写到当前文件或者另外某个文件中

1. `w 文件名`： 将所做的修改写回到指定文件中，并显示所写的行数和字符数
2. `w>>文件名`：将缓存区的北荣附加到现有文件的末尾，先前的文件内容不会变 
3. `w! 文件名`： 强制保存文件

## r 命令

> 将文本读入缓存区中的任意位置

1. `r 文件名`： 将指定文件的文本副本放入缓存区中的指定行之后
2. `w !命令`： 将命令输出读到缓存区的指定行之后

## q 命令

> 退出vi

1. `q`： 退出vi，内容不会自动写入文件
2. `q!`： 立即退出，不做修改，不显示任何提示信息 
3. `wq`： 等价于先执行 w 命令后又执行 q 命令，保存并退出
4. `wq!`： 忽略执行 w命令之前通常所做的检查，例如用户没有写权限，使用 `wq!` 可以直接修改该文件
5. `x`： 保存当前文件并退出vi编辑器  

